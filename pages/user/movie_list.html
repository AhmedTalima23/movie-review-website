<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Movies - MovieReview</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">

</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <h1><a href="home.html">Movie<span>Review</span></a></h1>
                <ul>
                    <li><a href="home.html" class="active">Home</a></li>
                    <li><a href="movie_list.html">Browse Movies</a></li>
                    <li><a href="my_reviews.html">My Reviews</a></li>
                    <li><a href="profile.html">Profile</a></li>
                    <li><a href="../auth/logout.html">Logout</a></li>
                </ul>
                <div class="bar-icon">☰</div>
            </div>
        </div>
    </nav>

    <section class="hero-browse">
        <div class="container">
            <div class="hero-content">
                <h2>Discover Cinematic Excellence</h2>
                <p>Explore thousands of movies from every genre and era</p>

                <div class="search-filter-wrapper">
                    <input type="text" id="searchInput" placeholder="Search for movies, actors, directors..." class="search-input">
                    <select id="genreFilter" class="filter-select">
                        <option value="">All Genres</option>
                        <option value="action">Action</option>
                        <option value="drama">Drama</option>
                        <option value="comedy">Comedy</option>
                        <option value="thriller">Thriller</option>
                        <option value="scifi">Sci-Fi</option>
                        <option value="romance">Romance</option>
                        <option value="crime">Crime</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <section class="movie-browse">
        <div class="browse-container">
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-number">5000+</span>
                    <span class="stat-label">Movies</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">120K+</span>
                    <span class="stat-label">Reviews</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">50K+</span>
                    <span class="stat-label">Users</span>
                </div>
            </div>

            <div class="filter-tabs">
                <a href="#" class="filter-tab active" data-filter="all">All Movies</a>
                <a href="#" class="filter-tab" data-filter="trending">Trending Now</a>
                <a href="#" class="filter-tab" data-filter="top-rated">Top Rated</a>
                <a href="#" class="filter-tab" data-filter="new-releases">New Releases</a>
                <a href="#" class="filter-tab" data-filter="coming-soon">Coming Soon</a>
            </div>

            <div id="noResults" class="no-results" style="display: none; text-align: center; padding: 3rem; color: var(--secondary-color);">
                <h3>No movies found</h3>
                <p>Try adjusting your search criteria or filter options.</p>
            </div>

            <div class="movie-grid" id="movieGrid">
                <div class="movie-card" data-title="the shawshank redemption" data-genre="drama" data-year="1994" data-rating="9.3" data-category="top-rated">
                    <div class="movie-card-img">
                        <div class="rating-badge">⭐ 9.3</div>
                        <img src="../../assets/img/movies/shaw.jpg" alt="The Shawshank Redemption">
                    </div>
                    <div class="movie-info">
                        <h3>The Shawshank Redemption</h3>
                        <p>Drama | 1994</p>
                        <a href="movie_details.html" class="btn">View Details →</a>
                        <!-- <a href="submit_review.html" class="btn add-review">Add Review</a> -->
                    </div>
                </div>

                <div class="movie-card" data-title="the godfather" data-genre="crime,drama" data-year="1972" data-rating="9.2" data-category="top-rated">
                    <div class="movie-card-img">
                        <div class="rating-badge">⭐ 9.2</div>
                        <img src="../../assets/img/movies/godf.jpg" alt="The Godfather">
                    </div>
                    <div class="movie-info">
                        <h3>The Godfather</h3>
                        <p>Crime, Drama | 1972</p>
                        <a href="movie_details.html" class="btn">View Details →</a>
                        <!-- <a href="submit_review.html" class="btn add-review">Add Review</a> -->
                    </div>
                </div>

                <div class="movie-card" data-title="the dark knight" data-genre="action,crime" data-year="2008" data-rating="9.0" data-category="trending,top-rated,new-releases">
                    <div class="movie-card-img">
                        <div class="rating-badge">⭐ 9.0</div>
                        <img src="../../assets/img/movies/R.jpeg" alt="The Dark Knight">
                    </div>
                    <div class="movie-info">
                        <h3>The Dark Knight</h3>
                        <p>Action, Crime | 2008</p>
                        <a href="movie_details.html" class="btn">View Details →</a>
                        <!-- <a href="submit_review.html" class="btn add-review">Add Review</a> -->
                    </div>
                </div>

                <div class="movie-card" data-title="pulp fiction" data-genre="crime,drama" data-year="1994" data-rating="8.9" data-category="trending">
                    <div class="movie-card-img">
                        <div class="rating-badge">⭐ 8.9</div>
                        <img src="../../assets/img/movies/pf.jpg" alt="Pulp Fiction">
                    </div>
                    <div class="movie-info">
                        <h3>Pulp Fiction</h3>
                        <p>Crime, Drama | 1994</p>
                        <a href="movie_details.html" class="btn">View Details →</a>
                        <!-- <a href="submit_review.html" class="btn add-review">Add Review</a> -->
                    </div>
                </div>

                <div class="movie-card" data-title="forrest gump" data-genre="drama,romance" data-year="1994" data-rating="8.8" data-category="trending">
                    <div class="movie-card-img">
                        <div class="rating-badge">⭐ 8.8</div>
                        <img src="../../assets/img/movies/fg.jpg" alt="Forrest Gump">
                    </div>
                    <div class="movie-info">
                        <h3>Forrest Gump</h3>
                        <p>Drama, Romance | 1994</p>
                        <a href="movie_details.html" class="btn">View Details →</a>
                        <!-- <a href="submit_review.html" class="btn add-review">Add Review</a> -->
                    </div>
                </div>

                <div class="movie-card" data-title="inception" data-genre="action,scifi" data-year="2010" data-rating="8.7" data-category="trending,new-releases">
                    <div class="movie-card-img">
                        <div class="rating-badge">⭐ 8.7</div>
                        <img src="../../assets/img/movies/inception.jpg" alt="Inception">
                    </div>
                    <div class="movie-info">
                        <h3>Inception</h3>
                        <p>Action, Sci-Fi | 2010</p>
                        <a href="movie_details.html" class="btn">View Details →</a>
                        <!-- <a href="submit_review.html" class="btn add-review">Add Review</a> -->
                    </div>
                </div>
            </div>

            <div class="load-more">
                <a href="#" class="load-more-btn">Load More Movies</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 MovieReview. All rights reserved.</p>
            <p>Discover, Review, and Rate your favorite movies.</p>
        </div>
    </footer>

    <script>
        // Get DOM elements
        const searchInput = document.getElementById('searchInput');
        const genreFilter = document.getElementById('genreFilter');
        const movieGrid = document.getElementById('movieGrid');
        const noResults = document.getElementById('noResults');
        const movieCards = document.querySelectorAll('.movie-card');
        const filterTabs = document.querySelectorAll('.filter-tab');
        
        let currentCategoryFilter = 'all'; // Track current category filter

        // Function to filter movies
        function filterMovies() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const selectedGenre = genreFilter.value.toLowerCase();
            
            let visibleCount = 0;

            movieCards.forEach(card => {
                const title = card.getAttribute('data-title').toLowerCase();
                const genres = card.getAttribute('data-genre').toLowerCase();
                const year = card.getAttribute('data-year').toLowerCase();
                const categories = card.getAttribute('data-category').toLowerCase();

                // Check if movie matches search term (title or year)
                const matchesSearch = searchTerm === '' || 
                    title.includes(searchTerm) || 
                    year.includes(searchTerm);

                // Check if movie matches selected genre
                const matchesGenre = selectedGenre === '' || 
                    genres.includes(selectedGenre);

                // Check if movie matches selected category
                const matchesCategory = currentCategoryFilter === 'all' || 
                    categories.includes(currentCategoryFilter);

                // Show or hide card based on all filters
                if (matchesSearch && matchesGenre && matchesCategory) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Show/hide no results message
            if (visibleCount === 0) {
                noResults.style.display = 'block';
                movieGrid.style.display = 'none';
            } else {
                noResults.style.display = 'none';
                movieGrid.style.display = 'grid';
            }
        }

        // Function to handle category filter tabs
        function setupCategoryFilters() {
            filterTabs.forEach(tab => {
                tab.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all tabs
                    filterTabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Update current category filter
                    currentCategoryFilter = this.getAttribute('data-filter');
                    
                    // Re-apply filters
                    filterMovies();
                });
            });
        }

        // Add event listeners
        searchInput.addEventListener('input', filterMovies);
        genreFilter.addEventListener('change', filterMovies);

        // Clear search on Escape key
        searchInput.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                searchInput.value = '';
                filterMovies();
            }
        });

        // Initialize category filters
        setupCategoryFilters();
    </script>
</body>
</html>